// ---------------------------------------------------------------------------
// Settings

$banner-size    : $smallpx;
$banner-rhythm  : .25;
$banner-leading : 1 + $banner-rhythm*2;

%banner-item {
  @include padding-leader($banner-rhythm);
  @include padding-trailer($banner-rhythm);
}

// ---------------------------------------------------------------------------
// Banner

[role="banner"] {
  @extend %boilerplate;
  color: mix($base1,$base2);
}

// ---------------------------------------------------------------------------
// Brand

.brand {
  @include adjust-font-size-to($banner-size);
  @include span-columns($half-small);
  @include at-breakpoint($break) { @include span-columns($left + 2); }
  color: $base3;
  .wordmark {
    @extend %icon;
    @extend %icon-fire;
    @include adjust-leading-to($banner-leading, $banner-size);
    height: rhythm($banner-leading, $banner-size);
    display: block;
    overflow: hidden;
    font-weight: bold;
    white-space: nowrap;
    &:before { margin: 0; }
  }
}

// ---------------------------------------------------------------------------
// Navigation

// $nav-span: $center;

// [role="navigation"] {
//   @include span-columns($nav-span);
//   ul { @include no-style-list; }
//   li {
//     float: left;
//     width: auto;
//     margin-right: gutter($nav-span);
//     min-width: columns(1,$nav-span);
//   }
//   .me { @extend %icon; @extend %icon-comments; }
//   .net { @extend %icon; @extend %icon-users; }
//   .myvillage { @extend %icon; @extend %icon-fire; }
// }

// ---------------------------------------------------------------------------
// Meta
%metanav-base {
  @include adjust-font-size-to($banner-size);
  @include span-columns($half-small omega);
  @include at-breakpoint($break) { @include span-columns($right + 1 omega); }
  position: relative;
  text-align: right;
}

.meta {
  @extend %metanav-base;

  span, a {
    @extend %icon;
    @extend %icon-settings;
    @extend %banner-item;
    display: block;
  }

  .settingslink { @extend %ellipsis; }
  .helplink {
    @extend %icon-help;
    @extend %button;
    @include button-color($orange);
    @include small-button;
    @include leader($banner-rhythm/2, $banner-size);
    float: right;
    margin-left: 1em;
  }
  [href*="edit"] { @extend %icon-settings; }
  [href*="password"] { @extend %icon-key; }
  button {
    @extend %reset-button;
    @extend %icon;
    @extend %icon-exit;
    @extend %banner-item;
    @include link(light);
    width: 100%;
  }
}

$useraction-size          : $banner-size;
$useraction-border-size   : 2px;
$useraction-border-color  : $back;
$useraction-background    : $base01;

.useractions {
  @include css-arrow(top, rhythm(.5), $useraction-background);
  @include box-shadow($useraction-border-color 0 0 $xxxsmallpx);
  @include stretch-x;
  top: 100%;
  margin: - $useraction-border-size 0 0;
  border: $useraction-border-size solid $useraction-border-color;
  background: $useraction-background;
  text-align: left;
  z-index: 900;
  display: none;

  a, button {
    @extend %ellipsis;
    padding: rhythm(.5, $useraction-size);
  }
  .meta:hover & { display: block; }
}


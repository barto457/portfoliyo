// ---------------------------------------------------------------------------
// Village Nav

$village-nav-title-bg : $blue;
$village-nav-rhythm   : .25;
$village-nav-action-color : $base03;

%village-nav-span {
  display: block;
  position: relative;
}

%village-nav-item {
  @extend %village-nav-span;
  @include trailing-border(1px,$village-nav-rhythm,$village-list-size);
  @include padding-leader($village-nav-rhythm,$village-list-size);
  border-color: $village-border-color;
  padding-left: $box-padding;
}

.nav-error, .remove-error {
  @extend %error;
}

.village-nav {
  @extend %village-lists;
  @extend %overflow-y;
  @include span-columns($left);
  position: relative;
  margin: 0;
  border: 1px solid $village-border-color;
  border-width: 0 1px;
  z-index: 15;
}

.listitem {
  position: relative;
  &.student, &.group { @include sans; }
}

.listitem-select {
  @extend %village-nav-item;
  @extend %village-activenav;
  #{$link} {
    .title & {
      color: $back;
      background: rgba($village-nav-title-bg,.25);
      font-weight: bold;
      &.active {
        background: $base1;
        color: $base3;
      }
    }
    .group & {
      @extend %icon;
      @extend %icon-users;
    }
  }
  #{$focus} {
    background: rgba($base2,.5);
    .title & { background: rgba($village-nav-title-bg,.5); }
  }

  .unread {
    @include adjust-font-size-to($smallpx,.75,$village-list-size);
    @include border-radius(.25em);
    @include box-shadow(rgba($back,.5) 0 0 3px inset);
    position: absolute;
    right: $xxxsmallpx;
    top: rhythm(.375,$smallpx);
    padding: 0 .25em;
    background: $accent;
    color: $base3;
    text-align: center;
    &.zero { display: none; }
  }
}

.action-back.groups {
  @extend %icon-replace;
  @extend %icon-users-list;
  @include leader($village-nav-rhythm);
  @include border-radius(.125em);
  @include rem(width, rhythm(1));
  position: relative;
  overflow: hidden;
  float: left;
  margin-right: .4rem;
  margin-left: $box-padding;
  color: $base3;
  background: rgba($back,.5);
  z-index: 6;
  #{$focus} {
    @extend %icon-arrow-left;
    background: $accent;
  }
}

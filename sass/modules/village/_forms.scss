// ---------------------------------------------------------------------------
// Add/Edit forms

.students-field, .elders-field, .groups-field {
  .check-options {
    @extend %check-options;
    height: rhythm(8,$input-font-size);
  }
  @include span-columns($center/2, $center);
  + .students-field, + .elders-field { @include omega; }
}

@function lighten-color($color, $amount) {
  @return adjust-color($color, $lightness: $amount);
}

$label-colors: $yellow $orange $magenta $violet $cyan $green
               lighten-color($yellow, 15%)
               lighten-color($orange, 15%)
               lighten-color($magenta, 15%)
               lighten-color($violet, 15%)
               lighten-color($cyan, 15%)
               lighten-color($green, 15%)
               desaturate(lighten-color($yellow, 50%), 25%)
               desaturate(lighten-color($orange, 50%), 25%)
               desaturate(lighten-color($magenta, 50%), 25%)
               desaturate(lighten-color($violet, 50%), 25%)
               desaturate(lighten-color($cyan, 50%), 25%)
               desaturate(lighten-color($green, 50%), 25%);

.select-groups {
  [class*="label-color-"] {
    &:after {
      @include border-radius(3px);
      @include box-shadow($back 0 0 2px inset);
      content: " ";
      position: absolute;
      right: rhythm(.125,$input-font-size);
      display: inline-block;
      margin-top: rhythm(.125,$input-font-size);
      width: 1em;
      height: 1em;
    }
  }
  $i: 1;
  @each $color in $label-colors {
    .label-color-#{$i}:after { background: $color; }
    $i: $i + 1;
  }
}

.select-students, .select-elders {
  .value[disabled] + .type { @extend %options-checked; }

  $i: 1;
  @each $color in $label-colors {
    .group-selected-#{$i}:before {
      @include text-shadow($back 0 1px 0);
      color: $color;
    }
    $i: $i + 1;
  }
}

// ---------------------------------------------------------------------------
// Add/Edit Village

.group-add-form, .group-edit-form { @extend %village-solo-page; }
.add-student, .village-edit-form { @extend %village-solo-page; }

.parent-instructions {
  @extend %type;
  h2 { @include trailer(.5, $largepx); }
  p { overflow: hidden; }
  .pdf-thumbnail {
    @extend %img;
    @include span-columns($left,$center);
    min-width: columns-width(3);
  }
  .pdf-downloads {
    @include inline-block-list;
    @include rhythm(0,.5,.5,1);
    @include bleed(rhythm(.5));
    background: $base2;
    text-align: right;
    overflow: visible;
    a {
      @extend %icon;
      @extend %icon-file-download;
      margin-right: 1em;
      &:after { content: " »"; }
    }
  }
}

.student-form-details {
  .summary {
    display: block;
    text-align: right;
    font-style: italic;
    &:after { content: " »"; }
  }
  &.open .summary {
    display: none;
  }
}

// ---------------------------------------------------------------------------
// Add/Edit Elder

.elder-add-form, .elder-edit-form { @extend %village-main-page; }

.school_staff-field {
  @extend %radio-check-defaults;
  @include leader;
}

